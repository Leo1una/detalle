<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tulipanes Amarillos — Detalle</title>
<style>
  :root{
    --bg:#f8fbff;
    --sky1:#bfe3ff; --sky2:#e8f4ff;
    --sun:#ffd54a;
    --stem:#2f8a57;
    --leaf:#39b977;
    --petal1:#ffd94d;
    --petal2:#ffec80;
    --petalEdge:#fffde0;
    --disk:#7a4a1a;
    --hud:#00121ecc;
  }
  html,body{height:100%;margin:0;background:var(--bg);font-family:Arial, sans-serif;}
  #c{display:block;width:100vw;height:100vh;background:linear-gradient(to bottom, var(--sky2), var(--sky1));}
  .ui{
    position:fixed; right:1rem; bottom:1rem;
    display:flex; gap:.5rem; flex-wrap:wrap; z-index:10;
  }
  .ui button{
    border:0;padding:.6rem .9rem;
    border-radius:999px;background:var(--hud);
    color:#fff;font-weight:700;cursor:pointer;
  }
  @media(max-width:480px){
    .ui{flex-direction:column;right:.5rem;bottom:.5rem;}
    .ui button{width:100%;}
  }
</style>
</head>
<body>
<canvas id="c"></canvas>
<div class="ui">
  <button id="regen">♻️ Regenerar</button>
</div>
<script>
(() => {
  const canvas=document.getElementById('c'),ctx=canvas.getContext('2d');
  let W,H,DPR;
  const rand=(a=0,b=1)=>Math.random()*(b-a)+a;
  
  const FLOWERS=[];
  function resize(){
    DPR=window.devicePixelRatio||1;
    W=innerWidth;H=innerHeight;
    canvas.width=W*DPR;canvas.height=H*DPR;
    ctx.setTransform(1,0,0,1,0,0);
    ctx.scale(DPR,DPR);
    seedFlowers();
  }

  function seedFlowers(){
    FLOWERS.length=0;
    // número de flores proporcional al área
    const n=Math.floor((W*H)/18000);
    const baseY=H*0.92;
    for(let i=0;i<n;i++){
      FLOWERS.push({
        x:rand(W*0.1,W*0.9),
        y:baseY+rand(-10,10),
        height:rand(H*0.15,H*0.28),
        color1:"var(--petal1)",
        color2:"var(--petal2)"
      });
    }
  }

  function drawStem(x,y,h){
    ctx.beginPath();
    ctx.moveTo(x,y);
    ctx.lineTo(x,y-h);
    ctx.strokeStyle=getComputedStyle(document.body).getPropertyValue('--stem');
    ctx.lineWidth=3;
    ctx.stroke();
    // hoja simple
    ctx.beginPath();
    ctx.ellipse(x-8,y-h*0.5,14,6,Math.PI/4,0,Math.PI*2);
    ctx.fillStyle=getComputedStyle(document.body).getPropertyValue('--leaf');
    ctx.fill();
  }

  function drawTulip(x,y,h,c1,c2){
    const topY=y-h;
    drawStem(x,y,h);
    ctx.save();
    ctx.translate(x,topY);
    // pétalos tulipán: corazón invertido
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.bezierCurveTo(-15,-20, -25,-40, 0,-50);
    ctx.bezierCurveTo(25,-40, 15,-20, 0,0);
    const grad=ctx.createLinearGradient(0,-50,0,0);
    grad.addColorStop(0,c1);grad.addColorStop(1,c2);
    ctx.fillStyle=grad;
    ctx.fill();
    ctx.restore();
  }

  function render(){
    ctx.clearRect(0,0,W,H);
    // sol
    const sunX=W*0.85,sunY=H*0.15;
    const g=ctx.createRadialGradient(sunX,sunY,20,sunX,sunY,140);
    g.addColorStop(0,"var(--sun)");g.addColorStop(1,"transparent");
    ctx.fillStyle=g;ctx.beginPath();ctx.arc(sunX,sunY,140,0,Math.PI*2);ctx.fill();
    // flores
    for(const f of FLOWERS){
      drawTulip(f.x,f.y,f.height,f.color1,f.color2);
    }
    // watermark
    ctx.save();ctx.font="bold 18px Arial";
    ctx.fillStyle="rgba(0,0,0,0.4)";ctx.fillText("ING. Leo",15,H-20);ctx.restore();
    requestAnimationFrame(render);
  }

  document.getElementById('regen').onclick=()=>seedFlowers();
  window.addEventListener('resize',resize);
  resize();
  requestAnimationFrame(render);
})();
</script>
</body>
</html>
